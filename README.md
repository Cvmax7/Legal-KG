# Legal-KG
# 法律文本关键词提取系统

## 项目简介

本系统实现了基于法律文本的关键词提取，通过集成多种算法提取法律文档中的关键词，并提供关键词的并集和交集，其中并集作为**可能存在的关键词集合**，交集作为**可能存在的法律术语集合**，帮助法律从业者快速理解文档内容。系统特别针对中文法律文本进行了优化，能够有效识别并过滤法律特有的结构性文本和日期时间表达式。

## 目录结构

```
Legal-KG/
├── Config/                        # 配置文件目录
│   └── stopwords/                 # 停用词表
│       └── stopwords              # 中文停用词列表
├── keyword_extractors.py          # 关键词提取器实现文件
├── main.py                        # 主程序文件
├── legal_corpus/                  # 法律语料库
│   ├── constitutional_law/        # 宪法文本
│   │   └── *.md                   # 宪法相关文件
│   ├── civil_law/                 # 民法文本
│   │   └── *.md                   # 民法相关文件
│   └── ...                        # 其他法律分支
├── results/                       # 关键词提取结果
│   └── keyword_results_*.json     # 带时间戳的结果文件
└── README.md                      # 项目说明文档
```

### 文件说明

- **keyword_extractors.py**: 实现了8种关键词提取算法，每种算法作为一个类，继承自BaseKeywordExtractor基类。包含了TF-IDF、YAKE、TextRank、RAKE、Embedding、MDKRank、Word2Vec和KeyBERT等方法的实现。

- **keyword_extraction_demo.py**: 主程序文件，负责加载语料库、初始化提取器、处理文本、提取关键词并保存结果。实现了对并集和交集的计算，以及结果的JSON格式化。

- **Config/stopwords/**: 包含中文停用词表，用于过滤常见无意义词汇。

- **legal_corpus/**: 存放按法律分支组织的法律文本，每个文本以Markdown格式存储。

- **results/**: 存放关键词提取结果，以JSON格式保存，包含并集（可能存在的关键词集合）、交集（可能存在的法律术语集合）和各方法单独提取的关键词。

## 支持的关键词提取算法

本系统实现了以下8种关键词提取算法：

1. **TF-IDF方法**：
   - 基于词频-逆文档频率统计
   - 需要预先对语料库进行训练

2. **YAKE方法**：
   - 基于统计特征的无监督方法
   - 考虑词的位置、频率、大小写等特征

3. **TextRank方法**：
   - 基于图的无监督算法，PageRank的文本版本
   - 通过词共现关系构建网络

4. **RAKE方法**：
   - 基于停用词的无监督关键短语提取方法
   - 通过停用词分割候选短语

5. **基于嵌入的方法**：
   - 使用BERT模型计算词与文档的相似度
   - 利用预训练语言模型的语义理解能力

6. **MDKRank方法**：
   - 基于BERT的掩码机制评估词重要性
   - 通过掩码词后文档语义变化评估词的重要性

7. **Word2Vec方法**：
   - 基于词向量聚类的关键词提取
   - 将相似词聚类并选取代表词

8. **KeyBERT方法**：
   - 结合BERT和余弦相似度的关键词提取
   - 使用最大边际相关算法增加关键词多样性


## 使用方法

1. 准备语料库：
   ```
   ./legal_corpus/
     ├── constitutional_law/        # 宪法文本
     │   ├── file1.md
     │   └── file2.md
     └── civil_law/                 # 民法文本
         ├── file3.md
         └── file4.md
   ```

2. 确保Config目录下有stopwords文件

3. 运行关键词提取：
   ```bash
   python keyword_extraction_demo.py
   ```

4. 查看结果：
   结果将保存在 `./keyword_results/` 目录下的 JSON 文件中，文件名带有时间戳



## 环境要求

- Python 3.6+
- PyTorch
- Transformers
- jieba
- scikit-learn
- networkx
- tqdm

## 运行结果示例

系统将结果保存为JSON格式，示例如下：

```json
{
  "constitutional_law": {
    "file1.md": {
      "union": ["宪法", "权利", "自由", "公民", "国家", "司法", "平等", "义务", "保障", "立法"],
      "intersection": ["宪法", "权利", "公民"],
      "methods": {
        "TF-IDF": ["宪法", "权利", "公民", "自由", "国家"],
        "YAKE": ["宪法", "权利", "公民", "平等", "保障"],
        "TextRank": ["宪法", "权利", "国家", "公民", "立法"],
        "RAKE": ["宪法", "公民权利", "司法独立"],
        "Embedding": ["宪法", "权利", "自由", "公民", "司法"],
        "MDKRank": ["宪法", "权利", "公民", "自由", "平等"],
        "Word2Vec": ["宪法", "权利", "公民", "国家", "义务"],
        "KeyBERT": ["宪法", "公民权利", "平等", "自由", "保障"]
      }
    }
  },
  "civil_law": {
    "file3.md": {
      "union": ["合同", "债权", "物权", "民法", "主体", "责任", "赔偿", "违约", "财产", "义务"],
      "intersection": ["合同", "民法"],
      "methods": {
        "TF-IDF": ["合同", "债权", "民法", "责任", "违约"],
        "YAKE": ["合同", "民法", "物权", "赔偿", "财产"],
        "TextRank": ["合同", "民法", "物权", "债权", "主体"],
        "RAKE": ["合同法", "民法典", "物权法"],
        "Embedding": ["合同", "债权", "民法", "责任", "主体"],
        "MDKRank": ["合同", "民法", "债权", "物权", "责任"],
        "Word2Vec": ["合同", "民法", "债权", "物权", "义务"],
        "KeyBERT": ["合同", "民法", "物权", "责任", "赔偿"]
      }
    }
  }
}
```

从结果中可以看出：
1. 每个文件的关键词结果包含三部分：并集（**可能存在的关键词集合**）、交集（**可能存在的法律术语集合**）和各方法提取的关键词
2. 并集（union）包含所有方法提取的关键词的总集合
3. 交集（intersection）包含多个方法共同提取的关键词
4. methods部分列出了每种方法单独提取的关键词列表



## 算法比较

下表比较了系统中实现的八种关键词提取算法的主要特点：

| 算法 | 类型 | 需要训练 | 考虑语义 | 计算复杂度 | 特点与优势 | 适用场景 |
|------|------|----------|----------|------------|------------|----------|
| TF-IDF | 统计 | 是 | 否 | 低 | 简单高效，能识别文档特有词汇 | 大规模语料库比较 |
| YAKE | 统计 | 否 | 否 | 中 | 考虑多种特征，无需训练 | 单文档分析 |
| TextRank | 图算法 | 否 | 部分 | 中 | 考虑词间关系，结果稳定 | 网络结构明显的文本 |
| RAKE | 统计 | 否 | 否 | 低 | 能提取短语，处理速度快 | 包含专业术语的文本 |
| Embedding | 深度学习 | 是 | 是 | 高 | 深层语义理解，同义词感知 | 语义复杂的文本 |
| MDKRank | 深度学习 | 是 | 是 | 高 | 评估词对整体语义贡献 | 需要考虑上下文的文本 |
| Word2Vec | 深度学习 | 是 | 是 | 中 | 语义聚类，减少冗余 | 术语丰富的专业文本 |
| KeyBERT | 深度学习 | 是 | 是 | 高 | 结合BERT与多样性算法 | 通用文本，需要多样性结果 |


## 更新日志

### 版本 1.0.0 (当前版本)
- 实现了8种关键词提取算法
- 添加了法律文本特定过滤功能
- 支持关键词并集和交集计算
- 优化了中文法律文本处理

